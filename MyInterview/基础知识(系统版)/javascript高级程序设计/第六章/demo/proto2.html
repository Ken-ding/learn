<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body></body>
</html>
<script>
    // function Person(){}

    // Person.prototype={
    //     name:"Bob",
    //     age:23
    // }

    // console.log();

//     function Person(name,age){
//     this.name=name;
//     this.age=age;
//     if(typeof this.sayName!="function"){
//         //只会被初始化一次
//         Person.prototype.sayName=function(){
//             console.log(this.name);
//         }
//     }
// }

// var p=new Person("Bob",29);
// console.log(p);
// var p1=new Person("Bob",29);
// p.sayName();

function Foo(name,age) {
    var o=new Object();
    o.name=name;
    o.age=age;
    return o;
}

function NEW_OBJECT(Foo) {
  arguments=Array.prototype.slice.call(arguments,1)

  var obj = {};
  obj.__proto__ = Foo.prototype;
  let o=Foo.apply(obj, arguments);
  if(typeof o=="object"){
    obj=o
  }
  return obj;
}

var f=NEW_OBJECT(Foo,"Bob",29);
console.log(Object.getPrototypeOf(f));
console.log(f.__proto__===Foo.prototype);//返回的对象与构造函数和构造函数的原型属性之间没有关系

var f1= new Foo("Tom",23);
console.log(Object.getPrototypeOf(f1));
console.log(f1.__proto__===Foo.prototype);//返回的对象与构造函数和构造函数的原型属性之间没有关系


function Foo1(name,age) {}
var aa=NEW_OBJECT(Foo1);
console.log(aa.__proto__===Foo1.prototype);


function Person(name,age){
    console.log(this);
    //创建要返回的对象
    var o =new Object();
    //可以在这里创建私有变量
    o.getName=function(){
        return name;
    }
    return o;
}

var o =Person("Timi");

console.log(o);//Timi


</script>